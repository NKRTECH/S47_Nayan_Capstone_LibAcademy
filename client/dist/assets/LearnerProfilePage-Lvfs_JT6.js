import{x as C,P,e as k,b as E,u as T,r as u,j as e,y as D,a as n,T as i,B as s,X as w,Y as L}from"./index-f7-2eSJk.js";import{s as o}from"./styled-Cry4a1KF.js";import{C as F}from"./Container-CUuuXKaa.js";import{T as S}from"./TextField-B4aAAyhF.js";import"./useFormControl-N2H_Ek8d.js";import"./Modal-DyP9q9P1.js";const c=C({palette:{mode:"dark",background:{default:"#1c1c1c",paper:"#2e2e2e"},text:{primary:"#ffffff",secondary:"#b0bec5"}}}),I=o(F)(({theme:a})=>({marginTop:a.spacing(4),display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",padding:a.spacing(3)})),B=o(P)(({theme:a})=>({padding:a.spacing(3),width:"100%",maxWidth:600,marginTop:a.spacing(3),backgroundColor:a.palette.background.paper})),W=o("form")(({theme:a})=>({width:"100%",marginTop:a.spacing(1)})),m=o(S)(({theme:a})=>({marginBottom:a.spacing(2)})),_=()=>{const a=k(t=>t.learner.learnerData),f=E(),p=T(),[r,x]=u.useState({firstName:a.firstName||"",lastName:a.lastName||"",email:a.email}),[g,j]=u.useState(!1),h=t=>{const{name:d,value:b}=t.target;x(N=>({...N,[d]:b}))},l=()=>{j(t=>!t)},y=async t=>{t.preventDefault();try{p(w({learnerId:a._id,updatedData:r})),l()}catch(d){console.error("Error updating profile:",d)}},v=()=>{p(L()),f("/"),window.location.reload()};return e.jsx(D,{theme:c,children:e.jsx(n,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:c.palette.background.default,color:c.palette.text.primary,width:"100%"},children:e.jsxs(I,{component:"main",children:[e.jsx(i,{component:"h1",variant:"h5",children:"Learner Profile"}),e.jsx(B,{children:g?e.jsxs(W,{onSubmit:y,children:[e.jsx(m,{variant:"outlined",fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",value:r.firstName,onChange:h}),e.jsx(m,{variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",value:r.lastName,onChange:h}),e.jsx(m,{variant:"outlined",fullWidth:!0,id:"email",label:"Email",name:"email",value:r.email,InputProps:{readOnly:!0}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[e.jsx(s,{type:"submit",variant:"contained",color:"primary",children:"Save Changes"}),e.jsx(s,{onClick:l,variant:"outlined",color:"secondary",children:"Cancel"})]})]}):e.jsxs(n,{children:[e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"First Name:"})," ",a.firstName]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Last Name:"})," ",a.lastName]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Email:"})," ",a.email]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[e.jsx(s,{onClick:l,variant:"contained",color:"primary",children:"Edit"}),e.jsx(s,{onClick:v,variant:"contained",color:"secondary",children:"Logout"})]})]})})]})})})};export{_ as default};
