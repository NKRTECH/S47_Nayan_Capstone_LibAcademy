import{c as C,P,u as k,a as E,b as T,r as u,j as e,T as D,B as n,d as i,e as s,L,M as w}from"./index-CVHsgGyL.js";import{s as o}from"./styled-CpWpjGkL.js";import{C as F}from"./Container-CksAh_Oz.js";import{T as S}from"./TextField-C-8Xz9mF.js";import"./useFormControl-D_L_ZpmW.js";import"./Modal-D9nivw5Y.js";import"./mergeSlotProps-CCCx748f.js";import"./createSvgIcon-CRBgYmHc.js";const c=C({palette:{mode:"dark",background:{default:"#1c1c1c",paper:"#2e2e2e"},text:{primary:"#ffffff",secondary:"#b0bec5"}}}),I=o(F)(({theme:a})=>({marginTop:a.spacing(4),display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",padding:a.spacing(3)})),B=o(P)(({theme:a})=>({padding:a.spacing(3),width:"100%",maxWidth:600,marginTop:a.spacing(3),backgroundColor:a.palette.background.paper})),M=o("form")(({theme:a})=>({width:"100%",marginTop:a.spacing(1)})),m=o(S)(({theme:a})=>({marginBottom:a.spacing(2)})),G=()=>{const a=k(t=>t.learner.learnerData),f=E(),p=T(),[r,g]=u.useState({firstName:a.firstName||"",lastName:a.lastName||"",email:a.email}),[x,j]=u.useState(!1),h=t=>{const{name:d,value:b}=t.target;g(N=>({...N,[d]:b}))},l=()=>{j(t=>!t)},y=async t=>{t.preventDefault();try{p(L({learnerId:a._id,updatedData:r})),l()}catch(d){console.error("Error updating profile:",d)}},v=()=>{p(w()),f("/"),window.location.reload()};return e.jsx(D,{theme:c,children:e.jsx(n,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:c.palette.background.default,color:c.palette.text.primary,width:"100%"},children:e.jsxs(I,{component:"main",children:[e.jsx(i,{component:"h1",variant:"h5",children:"Learner Profile"}),e.jsx(B,{children:x?e.jsxs(M,{onSubmit:y,children:[e.jsx(m,{variant:"outlined",fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",value:r.firstName,onChange:h}),e.jsx(m,{variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",value:r.lastName,onChange:h}),e.jsx(m,{variant:"outlined",fullWidth:!0,id:"email",label:"Email",name:"email",value:r.email,InputProps:{readOnly:!0}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[e.jsx(s,{type:"submit",variant:"contained",color:"primary",children:"Save Changes"}),e.jsx(s,{onClick:l,variant:"outlined",color:"secondary",children:"Cancel"})]})]}):e.jsxs(n,{children:[e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"First Name:"})," ",a.firstName]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Last Name:"})," ",a.lastName]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Email:"})," ",a.email]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[e.jsx(s,{onClick:l,variant:"contained",color:"primary",children:"Edit"}),e.jsx(s,{onClick:v,variant:"contained",color:"secondary",children:"Logout"})]})]})})]})})})};export{G as default};
