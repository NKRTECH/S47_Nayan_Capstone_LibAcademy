import{s as i,B as g,b as k,H as b,r as a,j as s,a as m,T as x,c as v}from"./index-f7-2eSJk.js";import{C as B}from"./CourseReviews-BEgyhaSJ.js";import{C as L}from"./Rating-mU1j8mJx.js";import{C as E}from"./Container-CUuuXKaa.js";import{A as T}from"./Alert-CQZzBUb_.js";import{G as f}from"./Grid-DV5glLz2.js";import{C as $}from"./Card-BKKX2NPm.js";import"./IconButton-5JQqtBZk.js";import"./Modal-DyP9q9P1.js";import"./TextField-B4aAAyhF.js";import"./useFormControl-N2H_Ek8d.js";import"./styled-Cry4a1KF.js";const w="https://s47-nayan-capstone-libacademy-7yf9.onrender.com/api",R=i(g)(({theme:r})=>({marginBottom:r.spacing(2),backgroundColor:r.palette.primary.main,color:r.palette.primary.contrastText,"&:hover":{backgroundColor:r.palette.primary.dark}})),A=i(g)(({theme:r})=>({marginTop:r.spacing(1),backgroundColor:r.palette.secondary.main,color:r.palette.secondary.contrastText,"&:hover":{backgroundColor:r.palette.secondary.dark}})),_=i(L)(({theme:r})=>({backgroundColor:"#205295",color:"#ffffff",borderRadius:"10px","&:hover":{backgroundColor:"#1b3b5f"}}));function J(){var l;const r=k(),{courseId:t}=b(),[h,C]=a.useState([]),[c,d]=a.useState(null);a.useEffect(()=>{(async()=>{var e,p,u;try{const n=await v.get(`${w}/lessons/fetchLessonsByCourseId/${t}`);C(n.data),d(null)}catch(n){console.error("Error fetching lessons:",((e=n.response)==null?void 0:e.data)||n.message),d(((u=(p=n.response)==null?void 0:p.data)==null?void 0:u.message)||"An error occurred while fetching lessons.")}})()},[t]);const y=o=>{r(`/tutor/courses/${t}/lessons/${o}`)},j=(o,e)=>{o.stopPropagation(),r(`/tutor/courses/${t}/lessons/edit/${e}`)};return s.jsxs(m,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",width:"100%"},children:[s.jsxs(E,{sx:{flexGrow:1,paddingTop:"16px",paddingBottom:"16px"},children:[s.jsx(x,{variant:"h4",gutterBottom:!0,children:"Course Lessons"}),s.jsx(m,{sx:{display:"flex",justifyContent:"left",marginBottom:"16px"},children:s.jsx(R,{variant:"contained",onClick:()=>r(`/tutor/courses/${t}/createlesson`),children:"Create Lesson"})}),c&&s.jsx(T,{severity:"error",children:c}),s.jsx(f,{container:!0,spacing:2,children:(l=h.lessons)==null?void 0:l.map(o=>s.jsx(f,{item:!0,xs:12,sm:6,md:4,children:s.jsx($,{sx:{cursor:"pointer",height:"100%",borderRadius:"10px"},onClick:()=>y(o._id),children:s.jsxs(_,{children:[s.jsx(x,{variant:"h6",gutterBottom:!0,children:o.title}),s.jsx(A,{variant:"contained",onClick:e=>j(e,o._id),children:"Edit"})]})})},o._id))})]}),s.jsx(B,{courseId:t})]})}export{J as default};
