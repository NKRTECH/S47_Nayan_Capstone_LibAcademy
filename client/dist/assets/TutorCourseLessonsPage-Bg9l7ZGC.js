import{s as i,B as g,b as k,D as b,r as a,j as s,a as m,T as x,c as B}from"./index-FjlUDy0d.js";import{C as v}from"./CardContent-Db6EVMYU.js";import{C as L}from"./Container-Ckq-t6de.js";import{A as E}from"./Alert-BVENnwFH.js";import{G as f}from"./Grid-CTyzRSFi.js";import{C as T}from"./Card-BLPFpjQd.js";import"./styled-BkRJrexq.js";import"./mergeSlotProps-oNhFKx-f.js";import"./createSvgIcon-C4trG8XA.js";const $="https://s47-nayan-capstone-libacademy-7yf9.onrender.com/api",w=i(g)(({theme:r})=>({marginBottom:r.spacing(2),backgroundColor:r.palette.primary.main,color:r.palette.primary.contrastText,"&:hover":{backgroundColor:r.palette.primary.dark}})),A=i(g)(({theme:r})=>({marginTop:r.spacing(1),backgroundColor:r.palette.secondary.main,color:r.palette.secondary.contrastText,"&:hover":{backgroundColor:r.palette.secondary.dark}})),R=i(v)(({theme:r})=>({backgroundColor:"#205295",color:"#ffffff",borderRadius:"10px","&:hover":{backgroundColor:"#1b3b5f"}}));function W(){var l;const r=k(),{courseId:e}=b(),[h,C]=a.useState([]),[c,d]=a.useState(null);a.useEffect(()=>{(async()=>{var t,p,u;try{const n=await B.get(`${$}/lessons/fetchLessonsByCourseId/${e}`);C(n.data),d(null)}catch(n){console.error("Error fetching lessons:",((t=n.response)==null?void 0:t.data)||n.message),d(((u=(p=n.response)==null?void 0:p.data)==null?void 0:u.message)||"An error occurred while fetching lessons.")}})()},[e]);const y=o=>{r(`/tutor/courses/${e}/lessons/${o}`)},j=(o,t)=>{o.stopPropagation(),r(`/tutor/courses/${e}/lessons/edit/${t}`)};return s.jsx(m,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",width:"100%"},children:s.jsxs(L,{sx:{flexGrow:1,paddingTop:"16px",paddingBottom:"16px"},children:[s.jsx(x,{variant:"h4",gutterBottom:!0,children:"Course Lessons"}),s.jsx(m,{sx:{display:"flex",justifyContent:"left",marginBottom:"16px"},children:s.jsx(w,{variant:"contained",onClick:()=>r(`/tutor/courses/${e}/createlesson`),children:"Create Lesson"})}),c&&s.jsx(E,{severity:"error",children:c}),s.jsx(f,{container:!0,spacing:2,children:(l=h.lessons)==null?void 0:l.map(o=>s.jsx(f,{item:!0,xs:12,sm:6,md:4,children:s.jsx(T,{sx:{cursor:"pointer",height:"100%",borderRadius:"10px"},onClick:()=>y(o._id),children:s.jsxs(R,{children:[s.jsx(x,{variant:"h6",gutterBottom:!0,children:o.title}),s.jsx(A,{variant:"contained",onClick:t=>j(t,o._id),children:"Edit"})]})})},o._id))})]})})}export{W as default};
